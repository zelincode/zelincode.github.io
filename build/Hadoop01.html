<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Hadoop - Zelincode</title><meta name="description" content="MapReduce——"分而治之""><meta name="keywords" content="Hadoop - Zelincode"><script src="/static/js/jquery-3.3.1.min.js"></script><script src="/static/js/vue.min.js"></script><link rel="stylesheet" href="/static/css/normalize.min.css"><link rel="stylesheet" href="/static/css/monaco.css"><link rel="stylesheet" href="/static/css/loading.css"><link rel="stylesheet" href="/static/css/editormd.min.css"><link rel="stylesheet" href="/static/css/style.css"><link rel="stylesheet" href="/static/css/mobile.css"><link rel="stylesheet" href="/static/font-awesome-4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/static/css/highlight.default.min.css"><script src="/static/js/highlight.min.js"></script><script>window._CONST={ROOT_PATH:"/"},hljs.initHighlightingOnLoad()</script></head><body><div class="main"><div class="tea-menu"><div class="tea-menu-title"><i class="fa fa-home" aria-hidden="true"></i> <span>Zelincode</span></div><div class="tea-menu-search-warp"><i class="fa fa-search"></i> <input type="text" placeholder="搜索文档" value height="100%"></div><ul class="tea-menu-list"><li><a href="/index.html" title="介绍" class>介绍</a></li><li><a title="Java" class>Java<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/java/java01.html" title="Java环境配置" class>Java环境配置</a></li><li><a href="/java/java02.html" title="Java基础语法" class>Java基础语法</a></li><li><a href="/java/java03.html" title="Java基础" class>Java基础</a></li></ul></li><li><a title="MySQL" class>MySQL<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/mysql/1.html" title="MySQL安装概述" class>MySQL安装概述</a></li><li><a href="/mysql/2.html" title="MySQL基础" class>MySQL基础</a></li><li><a href="/mysql/3.html" title="MySQL进阶" class>MySQL进阶</a></li></ul></li><li><a title="Python" class>Python<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/python/p0.html" title="Python入门" class>Python入门</a></li><li><a href="/python/p1.html" title="Python基础" class>Python基础</a></li><li><a href="/python/p2.html" title="python进阶" class>python进阶</a></li><li><a href="/python/p3.html" title="python算法" class>python算法</a></li><li><a title="Python爬虫" class>Python爬虫<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/python/p3.html" title="python爬虫基础" class>python爬虫基础</a></li><li><a href="/python/p5.html" title="python爬虫进阶" class>python爬虫进阶</a></li><li><a href="/python/p6.html" title="python反爬虫" class>python反爬虫</a></li></ul></li><li><a title="Scrapy" class>Scrapy<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/python/css.html" title="css选择器" class>css选择器</a></li></ul></li></ul></li><li><a title="大数据" class="active">大数据<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/Hadoop01.html" title="Hadoop" class="active">Hadoop</a></li></ul></li><li><a title="Linux">Linux<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/linux01.html" title="Linux基础">Linux基础</a></li></ul></li><li><a title="PHP">PHP<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/PHP01.html" title="php基础">php基础</a></li></ul></li><li><a title="其它">其它<i class="fa fa-angle-down unfold"></i></a><ul class="unfold"><li><a href="/config/structure.html" title="文档目录结构介绍">文档目录结构介绍</a></li><li><a href="/config/main.html" title="主配置文件说明">主配置文件说明</a></li><li><a href="/config/nav.html" title="菜单配置文件说明">菜单配置文件说明</a></li></ul></li></ul><div class="tea-version"><p>version: 0.0.1</p><p>Built with <a href="https://github.com/lisniuse/teadocs" target="_blank">Teadocs</a></p></div></div><div class="tea-content"><div class="tea-nav"><h3 class="top-title" style="font-weight:500;margin:0;font-size:16px"><i class="fa fa-navicon" aria-hidden="true"></i> <span>Hadoop</span></h3></div><div class="tea-container"><article class="markdown-body"><p>MapReduce——"分而治之"</p><p>相互之间不具有依赖关系</p><p>大数据往往是一组重复的数据元素</p><hr><h2 id="mapreduce的主要功能"><a href="#mapreduce的主要功能" class="header-anchor">#</a> <span>mapreduce的主要功能</span></h2><p>客户端，编写mapreduce作业，配置和提交作业</p><p>jobTracker 初始化作业分配作业，通信，协调</p><p>tasktracker</p><ol><li>数据划分和计算任务调度<ul><li>job -> task分成多个数据块</li><li>task -> map and reduce</li></ul></li><li><p>数据代码互定位</p><ul><li>尽可能靠近本地磁盘</li><li>网络节点同样采取就近原则</li></ul></li><li><p>系统优化：</p><p>实现负载均衡</p><p>数据合并减少数据传输压力</p><p>性能均衡</p></li><li><p>出错检测和恢复（多备份）</p></li></ol><hr><h2 id="运行详解"><a href="#运行详解" class="header-anchor">#</a> <span>运行详解</span></h2><ol><li>客户端编写mapreduce</li><li>提交job到jobtracker</li><li>分配job的ID，检查输出目录是否存在，根据输入计算输入分片</li><li>JobTracker配置Job需要的资源</li><li>Job Tracker初始化作业，排队</li><li>初始化job，创建job对象，以便Tracker追踪Job的工作状态</li><li>作业调度器获取输入分片信息创建一个map任务</li><li>TaskTracker运行一个五秒的心跳机制，以便JobTracker检测TaskTracker是否存活</li><li>TaskTracker分片执行任务，同时向JobTracker汇报工作</li><li>当JobTracker收到最后一个TaskTracker工作完成，就设置job工作完成</li><li>如果job中途犯错，会有相应的机制处理，</li></ol><hr><p>MR运行阶段</p><ol><li><p>输入分片，在进行map计算时，把文件分片，输入分片并非数据本身，而是数据的起始位置和数据的长度</p><p>（如果每个map执行行的数据大小不均匀，mapreduce会对其进行优化）</p></li><li><p>执行map函数，由编程人员实现</p></li><li><p>map的输出为reduce的输入</p></li><li><p>combiner是可选的一个阶段，combiner是一个本地的reduce操作，它是map运算的后续步骤，可以使得map的输出文件变小（但是使用combiner是有风险的， 如果求最大最小和总数可以使用combiner，但求和的话可能就会出错）</p></li><li><p>shuffle阶段：将map的输出作为reduce的输入的过程（防止内存溢出）</p><p>无法将大量数据放入内存，shuffle设置一个缓存区，如果缓存达到阈值内容就会被写到磁盘上，写的过程叫spill，另外的内存继续写入数据。如果缓存被撑满，会先写内容，内容写完后继续再读入内存。</p><p>溢出文件随后会被合并</p><p><strong>接下来还有一个过程——Partitioner（分区）</strong></p></li><li><p>reduce阶段</p></li></ol><p>·</p></article></div></div><i class="fa fa-arrow-circle-up gotop" aria-hidden="true"></i><div id="menu-mask"></div></div><script src="/static/js/main.js"></script><script src="/static/js/mobile.js"></script>
<script src="/__webscoket__/socket.io.js"></script>
<script src="/__webscoket__/socket.client.js"></script>
</body></html>